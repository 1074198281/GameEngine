# Precalculated atmosphere scatter

## 一、大气物理模型

### 1.1 大气散射现象

大气散射是指，太阳光在射入大气层时，与大气中的空气分子或空气溶胶等发生相互作用，使得入射的光能以一定的规律在各个方向上进行重新分布的现象。太阳光在射入大气层时，遇到大气分子、尘埃、雨滴等颗粒后，都会发生散射现象。其中一部分的光能会被这些粒子吸收转化为热能，而另一部分光能则会以该粒子为中心，向四面八方扩散开来。所以，在经过了大气的散射作用之后，有部分太阳光将无法抵达地球表面。大气散射在自然界中是一种十分重要而又普遍存在的物理现象，人们平时用肉眼观察到的光很大一部分都是散射光。如果没有大气散射，那么只要不是太阳光直接照射到的位置，都将是完全黑暗的。

### 1.2 空气物理模型

空气中的介质颗粒根据其直径大小的不同可分为两种：直径远小于光线波长的空气微粒、与直径与光线波长相当的空气溶胶。由前者引起的散射我们称为Rayleigh散射，它是导致晴朗天空呈现蓝色的主要原因。由后者引起的散射我们称为Mie散射，它是导致阴霾的天空呈现灰色的原因，因为阴天的空气中存在大量与光波直径相当的水滴。

#### 1.2.1 瑞利散射

瑞利散射的散射系数可以表示为
$$
\beta_R(\theta) = \frac{2 * \pi^2*(n^2 - 1)^2}{3 * N * \lambda^4} * p_R(\theta) 
$$
对于波长λ=（680， 550， 440）nm的光，







## 二.理论和代码参考

zhuanlan.zhihu.com/p/595576594







